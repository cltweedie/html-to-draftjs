{"version":3,"sources":["webpack://htmlToDraftjs/webpack/universalModuleDefinition","webpack://htmlToDraftjs/webpack/bootstrap","webpack://htmlToDraftjs/./src/library/chunkBuilder.js","webpack://htmlToDraftjs/./src/library/getBlockData.js","webpack://htmlToDraftjs/./src/library/getBlockTypeForTag.js","webpack://htmlToDraftjs/./src/library/getEntityId.js","webpack://htmlToDraftjs/./src/library/getSafeBodyFromHTML.js","webpack://htmlToDraftjs/./src/library/index.js","webpack://htmlToDraftjs/./src/library/processInlineTag.js","webpack://htmlToDraftjs/external \"draft-js\"","webpack://htmlToDraftjs/external \"immutable\""],"names":["SPACE","MAX_DEPTH","getWhitespaceChunk","entityId","text","inlines","OrderedSet","entities","blocks","createTextChunk","node","inlineStyle","textContent","trim","chunk","Array","length","fill","getSoftNewlineChunk","getEmptyChunk","getFirstBlockChunk","blockType","data","type","depth","Map","getBlockDividerChunk","Math","max","min","getAtomicBlockChunk","getLiquidChunk","split","forEach","push","joinChunks","A","B","concat","getBlockData","style","textAlign","marginLeft","undefined","blockRenderMap","element","wrapper","blockquote","code","atomic","unstyled","aliasedElements","getBlockTypeForTag","tag","lastList","matchedTypes","filter","draftBlock","indexOf","keySeq","toSet","toArray","getEntityId","HTMLAnchorElement","entityConfig","dataset","mention","url","href","innerHTML","value","Entity","__create","getAttribute","title","targetOption","target","getSafeBodyFromHTML","html","doc","root","document","implementation","createHTMLDocument","documentElement","getElementsByTagName","REGEX_NBSP","RegExp","firstBlock","genFragment","inEntity","customChunkGenerator","nodeName","toLowerCase","mutability","HTMLImageElement","src","alt","height","width","float","alignment","HTMLVideoElement","HTMLIFrameElement","processInlineTag","child","firstChild","generatedChunk","sibling","nextSibling","getChunkForHTML","sanitizedHtml","replace","safeBody","htmlToDraft","chunkData","entityMap","OrderedMap","entity","set","__get","start","dupeChunk","contentBlocks","map","textBlock","ii","console","log","end","slice","characterList","List","index","CharacterMetadata","create","ContentBlock","key","genKey","inlineTags","del","em","strong","ins","sub","sup","currentStyle","styleToCheck","add","toOrderedSet","HTMLElement","htmlElement","withMutations","color","backgroundColor","fontSize","fontFamily","fontWeight","textDecoration","fontStyle"],"mappings":"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","file":"html-to-draftjs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"draft-js\"), require(\"immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"draft-js\", \"immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"htmlToDraftjs\"] = factory(require(\"draft-js\"), require(\"immutable\"));\n\telse\n\t\troot[\"htmlToDraftjs\"] = factory(root[\"draft-js\"], root[\"immutable\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_draft_js__, __WEBPACK_EXTERNAL_MODULE_immutable__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { OrderedSet, Map } from 'immutable';\nconst SPACE = ' ';\nconst MAX_DEPTH = 4;\nexport const getWhitespaceChunk = (entityId) => {\n    return {\n        text: SPACE,\n        inlines: [new OrderedSet()],\n        entities: [entityId],\n        blocks: [],\n    };\n};\nexport const createTextChunk = (node, inlineStyle, entityId) => {\n    const text = node.textContent;\n    if (text.trim() === '') {\n        return { chunk: getWhitespaceChunk(entityId) };\n    }\n    return {\n        chunk: {\n            text,\n            inlines: Array(text.length).fill(inlineStyle),\n            entities: Array(text.length).fill(entityId),\n            blocks: [],\n        },\n    };\n};\nexport const getSoftNewlineChunk = () => {\n    return {\n        text: '\\n',\n        inlines: [new OrderedSet()],\n        entities: new Array(1),\n        blocks: [],\n    };\n};\nexport const getEmptyChunk = () => {\n    return {\n        text: '',\n        inlines: [],\n        entities: [],\n        blocks: [],\n    };\n};\nexport const getFirstBlockChunk = (blockType, data) => {\n    return {\n        text: '',\n        inlines: [],\n        entities: [],\n        blocks: [{\n                type: blockType,\n                depth: 0,\n                data: data || new Map({}),\n            }],\n    };\n};\nexport const getBlockDividerChunk = (blockType, depth, data) => {\n    return {\n        text: '\\r',\n        inlines: [],\n        entities: [],\n        blocks: [{\n                type: blockType,\n                depth: Math.max(0, Math.min(MAX_DEPTH, depth)),\n                data: data || new Map({}),\n            }],\n    };\n};\nexport const getAtomicBlockChunk = (entityId) => {\n    return {\n        text: '\\r ',\n        inlines: [new OrderedSet()],\n        entities: [entityId],\n        blocks: [{\n                type: 'atomic',\n                depth: 0,\n                data: new Map({})\n            }],\n    };\n};\nexport const getLiquidChunk = (entityId, textContent = null) => {\n  const text = textContent ? textContent : '\\r ';\n  const inlines = [];\n  const entities = [];\n  text.split('').forEach(() => {\n    inlines.push(new OrderedSet());\n    entities.push(entityId);\n  });\n  return {\n      text: `\\r${text}`,\n      inlines,\n      entities,\n      blocks: [{\n              type: 'htmlblock',\n              depth: 0,\n              data: new Map({})\n          }],\n  };\n};\nexport const joinChunks = (A, B) => {\n    return {\n        text: A.text + B.text,\n        inlines: A.inlines.concat(B.inlines),\n        entities: A.entities.concat(B.entities),\n        blocks: A.blocks.concat(B.blocks),\n    };\n};\n","import { Map } from 'immutable';\nexport default function getBlockData(node) {\n    if (node.style.textAlign) {\n        return new Map({\n            'text-align': node.style.textAlign,\n        });\n    }\n    else if (node.style.marginLeft) {\n        return new Map({\n            'margin-left': node.style.marginLeft,\n        });\n    }\n    return undefined;\n}\n","import { Map } from 'immutable';\nconst blockRenderMap = new Map({\n    'header-one': {\n        element: 'h1',\n    },\n    'header-two': {\n        element: 'h2',\n    },\n    'header-three': {\n        element: 'h3',\n    },\n    'header-four': {\n        element: 'h4',\n    },\n    'header-five': {\n        element: 'h5',\n    },\n    'header-six': {\n        element: 'h6',\n    },\n    'unordered-list-item': {\n        element: 'li',\n        wrapper: 'ul',\n    },\n    'ordered-list-item': {\n        element: 'li',\n        wrapper: 'ol',\n    },\n    blockquote: {\n        element: 'blockquote',\n    },\n    code: {\n        element: 'pre',\n    },\n    atomic: {\n        element: 'figure',\n    },\n    unstyled: {\n        element: 'p',\n        aliasedElements: ['div']\n    },\n});\nexport default function getBlockTypeForTag(tag, lastList) {\n    const matchedTypes = blockRenderMap\n        .filter(draftBlock => {\n        return ((draftBlock.element === tag &&\n            (!draftBlock.wrapper || draftBlock.wrapper === lastList)) ||\n            draftBlock.wrapper === tag ||\n            (draftBlock.aliasedElements && draftBlock.aliasedElements.indexOf(tag) > -1));\n    })\n        .keySeq()\n        .toSet()\n        .toArray();\n    if (matchedTypes.length === 1) {\n        return matchedTypes[0];\n    }\n    return undefined;\n}\n","import { Entity } from 'draft-js';\nconst getEntityId = (node) => {\n    let entityId = undefined;\n    if (node instanceof HTMLAnchorElement) {\n        const entityConfig = {};\n        if (node.dataset && node.dataset.mention !== undefined) {\n            entityConfig.url = node.href;\n            entityConfig.text = node.innerHTML;\n            entityConfig.value = node.dataset.value;\n            entityId = Entity.__create('MENTION', 'IMMUTABLE', entityConfig);\n        }\n        else {\n            entityConfig.url = node.getAttribute ? node.getAttribute('href') || node.href : node.href;\n            entityConfig.title = node.innerHTML;\n            entityConfig.targetOption = node.target;\n            entityId = Entity.__create('LINK', 'MUTABLE', entityConfig);\n        }\n    }\n    return entityId;\n};\nexport default getEntityId;\n","const getSafeBodyFromHTML = (html) => {\n  var doc;\n  var root = null;\n  if (document.implementation &&\n      document.implementation.createHTMLDocument) {\n      doc = document.implementation.createHTMLDocument('foo');\n      doc.documentElement.innerHTML = html;\n      root = doc.getElementsByTagName('body')[0];\n  }\n  return root;\n};\nexport default getSafeBodyFromHTML;\n","/* @flow */\nimport { CharacterMetadata, ContentBlock, genKey, Entity } from 'draft-js';\nimport { Map, List, OrderedMap, OrderedSet } from 'immutable';\nimport getSafeBodyFromHTML from './getSafeBodyFromHTML';\nimport {\n  createTextChunk,\n  getSoftNewlineChunk,\n  getEmptyChunk,\n  getBlockDividerChunk,\n  getFirstBlockChunk,\n  getAtomicBlockChunk,\n  joinChunks,\n  getLiquidChunk,\n} from './chunkBuilder';\nimport getBlockTypeForTag from './getBlockTypeForTag';\nimport processInlineTag from './processInlineTag';\nimport getBlockData from './getBlockData';\nimport getEntityId from './getEntityId';\nconst SPACE = ' ';\nconst REGEX_NBSP = new RegExp('&nbsp;', 'g');\nlet firstBlock = true;\nfunction genFragment(node, inlineStyle, depth, lastList, inEntity, customChunkGenerator) {\n    const nodeName = node.nodeName.toLowerCase();\n    if (customChunkGenerator) {\n        const value = customChunkGenerator(nodeName, node);\n        if (value) {\n            const entityId = Entity.__create(value.type, value.mutability, value.data || {});\n            if (value.textContent) {\n              return { chunk: getLiquidChunk(entityId, value.textContent) };\n            }\n            return { chunk: getAtomicBlockChunk(entityId) };\n        }\n    }\n    if (nodeName === '#text' && node.textContent !== '\\n') {\n        return createTextChunk(node, inlineStyle, inEntity);\n    }\n    if (nodeName === 'br') {\n        return { chunk: getSoftNewlineChunk() };\n    }\n    if (nodeName === 'img' &&\n        node instanceof HTMLImageElement) {\n        const entityConfig = {};\n        entityConfig.src = node.getAttribute ? node.getAttribute('src') || node.src : node.src;\n        entityConfig.alt = node.alt;\n        entityConfig.height = node.style.height;\n        entityConfig.width = node.style.width;\n        if (node.style.float) {\n            entityConfig.alignment = node.style.float;\n        }\n        const entityId = Entity.__create('IMAGE', 'MUTABLE', entityConfig);\n        return { chunk: getAtomicBlockChunk(entityId) };\n    }\n    if (nodeName === 'video' &&\n        node instanceof HTMLVideoElement) {\n        const entityConfig = {};\n        entityConfig.src = node.getAttribute ? node.getAttribute('src') || node.src : node.src;\n        entityConfig.alt = node.alt;\n        entityConfig.height = node.style.height;\n        entityConfig.width = node.style.width;\n        if (node.style.float) {\n            entityConfig.alignment = node.style.float;\n        }\n        const entityId = Entity.__create('VIDEO', 'MUTABLE', entityConfig);\n        return { chunk: getAtomicBlockChunk(entityId) };\n    }\n    if (nodeName === 'iframe' &&\n        node instanceof HTMLIFrameElement) {\n        const entityConfig = {};\n        entityConfig.src = node.getAttribute ? node.getAttribute('src') || node.src : node.src;\n        entityConfig.height = node.height;\n        entityConfig.width = node.width;\n        const entityId = Entity.__create('EMBEDDED_LINK', 'MUTABLE', entityConfig);\n        return { chunk: getAtomicBlockChunk(entityId) };\n    }\n    const blockType = getBlockTypeForTag(nodeName, lastList);\n    let chunk;\n    if (blockType) {\n        if (nodeName === 'ul' || nodeName === 'ol') {\n            lastList = nodeName;\n            depth += 1;\n        }\n        else {\n            if (blockType !== 'unordered-list-item' &&\n                blockType !== 'ordered-list-item') {\n                lastList = '';\n                depth = -1;\n            }\n            if (!firstBlock) {\n                chunk = getBlockDividerChunk(blockType, depth, getBlockData(node));\n            }\n            else {\n                chunk = getFirstBlockChunk(blockType, getBlockData(node));\n                firstBlock = false;\n            }\n        }\n    }\n    if (!chunk) {\n        chunk = getEmptyChunk();\n    }\n    inlineStyle = processInlineTag(nodeName, node, inlineStyle);\n    let child = node.firstChild;\n    while (child) {\n        const entityId = getEntityId(child);\n        const { chunk: generatedChunk } = genFragment(child, inlineStyle, depth, lastList, (entityId || inEntity), customChunkGenerator);\n        chunk = joinChunks(chunk, generatedChunk);\n        const sibling = child.nextSibling;\n        child = sibling;\n    }\n    return { chunk };\n}\nfunction getChunkForHTML(html, customChunkGenerator) {\n    const sanitizedHtml = html.trim().replace(REGEX_NBSP, SPACE);\n    const safeBody = getSafeBodyFromHTML(sanitizedHtml);\n    if (!safeBody) {\n        return null;\n    }\n    firstBlock = true;\n    const { chunk } = genFragment(safeBody, new OrderedSet(), -1, '', undefined, customChunkGenerator);\n    return { chunk };\n}\nexport default function htmlToDraft(html, customChunkGenerator) {\n    const chunkData = getChunkForHTML(html, customChunkGenerator);\n    if (chunkData) {\n        const { chunk } = chunkData;\n        let entityMap = new OrderedMap({});\n        chunk.entities && chunk.entities.forEach(entity => {\n            if (entity) {\n                entityMap = entityMap.set(entity, Entity.__get(entity));\n            }\n        });\n        let start = 0;\n\n        const dupeChunk = { ...chunk };\n\n        return {\n            contentBlocks: dupeChunk.text.split('\\r')\n                .map((textBlock, ii) => {\n                console.log('chunk:', chunk);\n                console.log('dupeCunk:', dupeChunk);\n                // console.log('textBlock:', textBlock);\n                // console.log('textBlock.length:', textBlock.length);\n                const end = start + textBlock.length;\n                const inlines = dupeChunk && dupeChunk.inlines.slice(start, end);\n                const entities = dupeChunk && dupeChunk.entities.slice(start, end);\n                const characterList = new List(inlines.map((style, index) => {\n                    const data = { style, entity: null };\n                    if (entities[index]) {\n                        data.entity = entities[index];\n                    }\n                    return CharacterMetadata.create(data);\n                }));\n                start = end;\n                return new ContentBlock({\n                    key: genKey(),\n                    type: (dupeChunk && dupeChunk.blocks[ii] && dupeChunk.blocks[ii].type) || 'unstyled',\n                    depth: dupeChunk && dupeChunk.blocks[ii] && dupeChunk.blocks[ii].depth,\n                    data: (dupeChunk && dupeChunk.blocks[ii] && dupeChunk.blocks[ii].data) || new Map({}),\n                    text: textBlock,\n                    characterList,\n                });\n            }),\n            entityMap,\n        };\n    }\n    return null;\n}\n","const inlineTags = {\n  code: 'CODE',\n  del: 'STRIKETHROUGH',\n  em: 'ITALIC',\n  strong: 'BOLD',\n  ins: 'UNDERLINE',\n  sub: 'SUBSCRIPT',\n  sup: 'SUPERSCRIPT',\n};\nexport default function processInlineTag(tag, node, currentStyle) {\n  const styleToCheck = inlineTags[tag];\n  let inlineStyle;\n  if (styleToCheck) {\n      inlineStyle = currentStyle.add(styleToCheck).toOrderedSet();\n  }\n  else if (node instanceof HTMLElement) {\n      inlineStyle = currentStyle;\n      const htmlElement = node;\n      inlineStyle = inlineStyle.withMutations((style) => {\n          const color = htmlElement.style.color;\n          const backgroundColor = htmlElement.style.backgroundColor;\n          const fontSize = htmlElement.style.fontSize;\n          const fontFamily = htmlElement.style.fontFamily.replace(/^\"|\"$/g, '');\n          const fontWeight = htmlElement.style.fontWeight;\n          const textDecoration = htmlElement.style.textDecoration;\n          const fontStyle = htmlElement.style.fontStyle;\n          if (color) {\n              style.add(`color-${color.replace(/ /g, '')}`);\n          }\n          if (backgroundColor) {\n              style.add(`bgcolor-${backgroundColor.replace(/ /g, '')}`);\n          }\n          if (fontSize) {\n              style.add(`fontsize-${fontSize.replace(/px$/g, '')}`);\n          }\n          if (fontFamily) {\n              style.add(`fontfamily-${fontFamily}`);\n          }\n          if (fontWeight === 'bold') {\n              style.add(inlineTags.strong);\n          }\n          if (textDecoration === 'underline') {\n              style.add(inlineTags.ins);\n          }\n          if (fontStyle === 'italic') {\n              style.add(inlineTags.em);\n          }\n      }).toOrderedSet();\n  }\n  return inlineStyle;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_draft_js__;","module.exports = __WEBPACK_EXTERNAL_MODULE_immutable__;"],"sourceRoot":""}